---
title: Salmonia3+ Universal版開発進捗状況
date: 2023-09-05
description: iOS/Android両対応のアプリ開発の進捗状況についてご説明します
category:
  - Nintendo
tag:
  - Salmonia3+
---

## ご支援状況

以前の記事で初期段階の開発資金のご支援をお願いしたのですが、ご支援を頂いたからには報告するのが道理であると思われるので、報告致します。

|        | 支援者様 |  合計  |
| :----: | :------: | :----: |
| PayPay |  22 名   | 39,433 |
| PayPal |   8 名   | 17,247 |
|  合計  |  30 名   | 56,680 |

> PayPal の方は予め手数料等が引かれています

というわけで、現時点で 30 名の方から合計 56,680 円のご支援を頂いております。

当初の目論見では通信関係のライブラリ開発に 20 時間、アプリ自体の開発に 15 時間ほどを想定していましたが、妙に拘ってしまったので想定の倍以上の時間がかかってしまいました。

しかしながら、手をかけた分だけしっかりとしたものになっていると思います。

## 開発状況

では、具体的にどのくらい進んだのかをご報告します。

### 通信ライブラリ

通信ライブラリの機能として必要なのは、

1. ログインができること
2. スケジュール/リザルト取得ができること
3. Salmon Stats へのリザルトのアップロードができること

の三つになります。三番目の要件は元々実装するつもりはなかったのですが、そこまで手間ではなかったので対応することにしました。

これらの三つについての進捗は以下のとおりです。

1. ログインができること
   - 全ての機能の実装、テストが完了
   - トークンの再生成も対応
   - 基本的な API のアップデートに自動対応(SHA256Hash の更新を除く)
   - コンテンツの追加には未対応 [1]
2. スケジュール/リザルト取得ができること
   - 全ての機能の実装、テストが完了
   - SplatNet2/SplatNet3 形式に両対応 [2]
3. Salmon Stats へのリザルトのアップロードができること
   - 全ての機能の実装、テストが完了 [3]

> [1] 新ブキ、新ステージが追加された際はライブラリの更新が必要になります.
>
> [2] 現時点では不要と思われるので SplatNet3 形式は返さないようになっています. 要望があれば即対応できる状態です. SplatNet2 形式は SplatNet3 形式に比べて遥かに軽量です.
>
> [3] 実際にアップロードを行うには Salmon Stats のアップデートが必要です. 対応版は開発済みです.

というわけで、通信ライブラリに関してはほぼ 100%完成しています。今後は追加コンテンツ対応やバグ修正、要望のある機能追加などがメインの活動になっていくと思います。通信ライブラリがあれば Typescript が使える人であれば誰でもツールを開発することができるのでライブラリは公開予定です。その際は[av5ja](https://github.com/salmonstats3/av5ja/pkgs/npm/av5ja)で公開されると思います。

多くの人の目に触れることでよりライブラリの完成度が高まるのではないかと考えています。

> s3s のようにライブラリを使って GitHub Actions などで動作するリザルト収集ツールなどの開発が期待できます

### アプリ

現実的な問題として、アプリに必要な機能要件は以下のとおりです。

1. ログインができる
2. スケジュール/リザルト取得ができる
3. スケジュール/リザルト保存ができる
4. スケジュール/リザルト閲覧ができる
5. 多言語対応
6. ライトモード/ダークモード

ただし、これは以前もご説明させていただいたように 4 に関しては時間的な余裕がないことから私は開発する予定がありません。

私がちまちま開発しているよりも、他の有志の方が開発したほうがよっぽど早くご対応していただけると思うからです。

これらの進捗報告は以下のとおりです。

1. ログインができる
   - ライブラリが対応したため実装完了
   - iOS, Android でログインテスト完了
2. スケジュール/リザルト取得ができる
   - ライブラリが対応したため実装完了
   - iOS, Android でスケジュール/リザルト取得テスト完了
3. スケジュール/リザルト保存ができる
   - データ保存の仕組みをどれを採用するかで検討中
4. スケジュール/リザルト閲覧ができる
   - 対応範囲外です
5. 多言語対応
   - 一応日本語と英語には対応していますが、切り替えとかはまだできていません
6. ライトモード/ダークモード
   - 多分対応できています、多分

というわけで、実際にログインしてリザルトなどを取得するところまでは動作しているけれど、それをまだ保存できていない状況です。

保存できていないので、進捗自体は 70%近くあると思うのですがアプリとしては全くの未完成です。

で、Web 系のデータベースの仕組みがあまりまだわかっていないのでここは少し時間がかかるかもしれません。また、他の作業も入っているので見通しがあまり立っていません。もし、Web 系でのデータベースに詳しい方がいれば[av5ja_app](https://github.com/salmonstats3/av5ja_app)に PR を送っていただけると助かります。

> 現時点ではレポジトリは Private なので DM なりで GitHub のアカウント ID を教えてください

### 追加対応

現時点ではライブラリは Native App でしか動作しない(PWA などのウェブアプリでは動かない)のですが、プロクシサーバーを経由すれば対応できるのでそれも案外アリなのではないかと思っています。とはいえ、余計に工数が増えるだけなので、要望があればって感じです。

## まとめ

というわけで、8/27 に支援をお願いしてから約一週間が経ちましたが、ご支援いただいた分くらいの作業はできたのではないかと思います。

現状としては、

1. ライブラリはほぼ完成
2. アプリ側の課題は「データの保存」のみ
3. よくわかっていないので時間がいくらかかるかわからない
4. 手伝える方がいれば頼みたい
5. ライブラリほぼ完成しているのでアプリ開発したい方はぜひどうぞ

ということになっているのですが、データ保存くらいまではやると公言しているので作業自体は続けますが、より詳しい方がいれば PR 出してもらえればすんなり開発が終わります。

通信ライブラリは半年はサポートすると決めているので、2024/04/01 までは私が主体となってアップデートすることをお約束します。

アプリの方はまあなんか適当に動く感じであれば今週末くらいには完成させられるのかなという感じです。アプリの方もソースコードを公開してもいいかなと思っているのですが、ご支援していただいた方の意向を最優先にしたいと思います（ご支援のリターンがソースコードの公開になっているため）

今月は別件の作業もあり、またいろいろやることもあるのでアプリ開発にどれだけ力を入れられるかは未知数なのですが、頑張りたいと思います。

記事は以上。
