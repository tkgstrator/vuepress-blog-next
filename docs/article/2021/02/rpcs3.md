---
title: PS3エミュレータRPCS3を使ってみよう
date: 2021-02-01
category: Hack
tag:
  - Emulator
---

## PS3 エミュレータ

最近だとニンテンドースイッチのエミュレータの開発が進んでいますが、そういえば PS3 エミュレータはどのくらい進化したのか気になったので実際に遊んでみることにしました。

最初に PS3 エミュレータがでたときはゴリゴリのハイスペックパソコンでやっとカクカクで動くといったレベルだったのですが、さて今のエミュレータはどんな感じなんでしょうか。

PS3 が 35880 円って、新品の PS4 より高くないですか？

### 推奨スペック

- CPU
  - Intel 4 コア 8 スレッドか 6 コア以上（Haswell 以降）
  - AMD 6 コア 12 スレッドか 8 コア以上（Ryzen のみ）
- GPU
  - AMD か NVIDIA で Vulkan に互換性がある GPU
- MEM
  - 8GB 以上
- という感じなので、やはりそれなりのスペックは要求されるものの以前に比べるとかなり一般的なパソコンでも動作するようです。

### 動作リスト

公式ページによると、動作リストは次のように分類されているらしい。

- Playable（59.65%）
  - グリッチなどがなく、最後まで遊べる
- Ingame（33.63%）
  - 深刻なグリッチや十分でないパフォーマンスで最後まで遊べない
- Intro（6.38%）
  - 映像が表示されるがメニューまで進めない
- Loadable（0.25%）
  - 画面が真っ黒のままだが、フレームレートは表示される
- Nothing（0.09%）
  - 何も起こらない

というわけで、最後まで遊べるかどうかはわからないものの全体の 93%以上のゲームは「一応遊べる」レベルでは動作することがわかります。

動作リストの詳細は以下から見れます。

[RPCS3 - Compatibility List](https://rpcs3.net/compatibility)

## 導入方法

今回は無駄な高画質化設定とか、キーコンフィグの設定とかはおいておいて、ゲームを起動させるまでのチュートリアルを解説します。

### RPCS3

まずはエミュレータ本体である RPCS3 をダウンロードします。

Windows か Linux でしか動作しないので注意。

[RPCS3 - Download](https://rpcs3.net/download)

ダウンロードしたら圧縮ファイルを解凍してから起動しましょう。

### PS3UPDAT.PUP

次に、PS3 のファームウェアをダウンロードします。

PS3 のファームウェアは公式で配布されているのでありがたく頂戴します。

[PS3 System software](https://www.playstation.com/en-us/support/hardware/ps3/system-software/)

ダウンロードができたら、RPCS3 のメニューから「File」->「Install Firmware」を選択してインストールします。

二分くらいで終わるので待ちましょう。

## ROM の吸い出し方法

今はパソコンのドライブからもゲームを吸い出せる場合があるようですが、自分は改造済みの PS3 を持っているので Multiman を使ってゲームを吸い出しました。

PS3 からパソコンにコピーするには FTP を使うしかないのですが（USB は FAT32 にしか対応しておらず、4GB 以上のゲームは分割されてしまう）、FTP でファイルをコピーするときはフォルダとしてコピーするより ISO としてコピーしたほうが速いです。

ただ、Multiman でゲームのバックアップをとると一旦フォルダに展開されてしまうので再度 ISO に圧縮するという方法をとりました。

注意点としてはゲームを Mutliman の XMB から直接 ISO 化するのではなく、ファイルマネージャーを使ってフォルダを ISO 化したほうが良いということです。

そうしないと、ゲーム名に日本語が入っている場合にファイルが文字化けしてしまいいろいろとめんどくさいことになります。

ISO 化してペーストを選択すると ISO イメージを作成してくれます。

7GB 弱のゲームで 11 分ほどかかったので、30 分くらいあればどんなゲームでもバックアップできるのではないかと思います。

バックアップができたら FTP でパソコンに転送します。

全部で 40GB くらいあったので転送には 1 時間ちょっとかかりました。ここも注意点としては PS3 は有線接続をしたほうがいいです。速度が 10 倍くらい違うので、有線接続をしましょう！！！！

で、このコピーした ISO イメージなのですが RPCS3 は ISO イメージを読み込めないので全部フォルダとして展開します。

展開できたら、フォルダごと RPCS3 にドラッグアンドドロップすればゲームを読み込んでくれます。

## アップデータ

PS3 はニンテンドースイッチとは違って認証無しでアップデータをとってこれるので、とってくることにします。

いろいろソフトはあるのですが個人的には PS3 Game Updater 1.41 がめちゃくちゃわかりやすくてオススメです。

[PS3 Game Updater 1.41](https://www.mediafire.com/file/zfhemfd1np43trz/PS3_Game_Updater_1.41.rar/file)

ネットの広大な海を彷徨っていると、自分が使っているやつと同じソフトがミラーとしてアップロードされていたので紹介しておきます。

アップデータは PKG として保存されるので、HDD などに保存しておきましょう。

### アップデータのインストール

アップデータのインストールは RPCS3 の「File」から「Install Packages/Raps」で行えます。

一度に複数の PKG がインストールできるので便利です。

### DLC

DLC（ダウンロードコンテンツ）は一般には配布されていないので PSN から直接ダウンロードする必要がありますが、PSN からの購入には PSN アカウントの認証があるため直接やろうとするといろいろな法律に引っかかりそうです。

自分は過去にやった方法は PS3 本体で PSN にアクセスして DLC をダウンロードし、CFW をインストールしてから reActPSN を使って RAP ファイル（DLC の認証データのようなもの）を PKG にバックアップするという方法でした。

reActPSN 自体が使い方がよくわからん（むずかしい）上に、かなりめんどくさい手順なのでオススメはしないです。

実機の場合は正しくパッケージングした DLC であっても有料コンテンツの場合は reActPSN を使わないと有効化できなかったのですが、RPCS3 の場合はインストールするだけで有効化できました。

有効化されたアーシャのアトリエ DLC のオディーリアさん

その点はすごく便利だなと思いました。

ちなみに、スイッチや PS4 向けの DX 版には最初から全ての DLC が同梱されているので、わざわざ今更 PS3 版を買う必要はないです。

## セーブデータ

RPCS3 のセーブデータは`dev_hdd0/home/00000001/savedata`内にあるのですが、実機と違って暗号化がされていません。本来であれば PARAM.SFO、SAVE-DATA、PARAM.PFD の三つのファイルが必要なのですが、RPCS3 ではハッシュ用の PARAM.PFD がありません。

で、某掲示板によれば実機のセーブデータを RPCS3 に移植するのはコピーするだけと言われたのでバックアップをコピーしたら読み込みと同時にエミュレータがクラッシュしました。

ちなみに、`F {PPU[0x1000000] Thread (main_thread) [0x0048c8f8]} VM: Access violation reading location 0x8000003f (unmapped memory) [type=u32]`っていうエラーが表示されました。

で、どうも SAVE-DATA が暗号化されていることが原因ではないかという結論に至ったので BruteforceSaveData を使って復号することにしました。

[PS3 Bruteforce Save Data v4.6 Download](https://digiex.net/threads/ps3-bruteforce-save-data-v4-6-download.13884/)

これが効いたのかどうかはよくわからないのですが、セーブデータを Decrypt するとちゃんと読み込むことができるようになりました。

## 実際に遊んでみた

@[youtube](https://www.youtube.com/watch?v=-_ZPXH4iL_8)

### コントローラについて

PS3 のコントローラは失くしてしまったので代わりにプロコンを使いました。

[BetterJoy](https://github.com/Davidobot/BetterJoy)

BetterJoy というソフトをつかえば有線接続という条件はあるもののメチャクチャ簡単に接続できました。ちなみに、Blutooth 接続であれば BetterJoy は不要です。

設定から XInput を選べば何も設定せずに、想定通りの動きをしてくれます。

### 画質の上げ方

折角エミュレータを使うのですから、画質のアップにもチャレンジしてみましょう。

設定から GPU の項目を弄るだけなので簡単ですが、GPU の設定なのに画質を上げると CPU 使用率が上がります。つまり、どこまで画質を上げられるかは CPU の性能に引っかかってくるということです。

- Renderer
  - Vulkan で良い
- Graphics Device
  - GPU を選択
- Anisotropic Filter
  - 16x を選択（ただし重いので Auto でも良い）
- Default Resolution
  - ウィンドウサイズなので何でも良い
- Resolution Scale
  - 3D の内部スケール解像度
  - ここを大きくすればするほど、3D 表示がキレイになる
  - スペックの許す限り上げるとよいが 1080p 以上は上げてもそこまで変わらない
- Resolution Scale Threshold
  - いじらないほうが良いらしい

@[youtube](https://www.youtube.com/watch?v=XGXHrmfQrzs)

**1080p vs 720p**

かなり見た目が違うので、ここは可能であれば解像度を上げておきたい。

**2160p vs 1080p**

見た目ではそこまで変わらないような気もするが、うちは 4K モニタを使っているので 4K で実際にプレイしてみるとネイティブ 4K と 2K のアップコンバートではかなり違いがでる。

どちらにせよ、4K モニタを使っていないのであればここまでの画質は不要かも。

## まとめ

エスカ&ロジーのアトリエについてはほとんど実機と変わらない環境でプレイすることができた。

プロコンが使える点と、スケーリングによる解像度の向上を考えるとエミュレータで遊ぶのも悪くない選択肢だと思いました（特に PS3 は HDCP に対応しておらず、スプリッタなしでキャプチャできないなどの制限もある）

エミュレータ自体の導入のハードルは低いとはいえ、そもそも PS3 を改造するのが若干ハードルが高いことと、要求されるパソコンのスペックがそれなりに必要なこと、ゲームのバックアップを取るのがちょいとめんどくさいことを考えると、誰しもがおいそれと手を出せるものではないでしょう。

ただ、もしも改造済み PS3 が手元にあるのなら（PS3 を改造できるレベルで知識があるのなら）、一度はやってみるのも悪くないと思いました。

記事は以上。
