---
title: Salmon Run Recordsの赤イクラの項目がよくわからない件
date: 2021-10-03
description: どうやれば記錄を上手くまとめることができるかについて考えてみる
category: Switch
tag:
  - Splatoon2
---

# [Power Egg Record](https://lemon0617tea.github.io/Power_Egg_Record/index.html)

赤イクラ記錄専門のウェブサイトが稼働したようで、記錄を集計中であるようなのだがそのカテゴライズがよくわからなかったので、一人のサーモンランプレイヤーとして、またエンジニアとして所感についてメモをする記事です。

これ書き終わったらお寿司食べに行きたいから早く書きたい。

## カテゴリについて

TOP ページからは次の大カテゴリを見ることができる。

- 夜あり総合赤
  - 夜総合
  - 夜 2
  - 夜 1
    - ラッシュ
    - キンシャケ探し
    - グリル発進
    - 霧
    - ハコビヤ襲来
    - ドスコイ大量発生
- 昼のみ総合赤
  - 昼総合
  - 通常 3
  - 通常 2
  - 通常 1
- 夜あり個人赤
- 昼のみ個人赤
- 通常編成
- 単緑編成
- 全緑編成
- 黄金編成

で、この中に更に小カテゴリがありサイトをじっくり眺めた上で、理解が正しければ Power Egg Record のレコード区分は以下のようになっている。

- ステージ区分(5 通り)
- 編成区分(4 通り)
- 個人/総合(2 通り)
- WAVE 組み合わせ区分(11 通り)
  - 夜総合
  - 夜 2
  - 夜 1
  - 昼総合
  - 昼 2
  - 昼 1
  - 各種夜イベント(6 通り)

つまり、一つのステージにつき`4*2*11=88`通りの記錄が存在することになる。

ステージは全部で五種類あるので、更に 5 倍の`440`通りあることになり、それをツリー構造で表すと下図のようになる。

また、実際にはクリアしたかどうかもチェックされるため`440*2=880`通りの区分があることになる。

::: tip ツリー構造

全部表示すると流石に長すぎるのでシェケナダムの通常編成のみ記した。
:::

```
.
├── シェケナダム/
│   ├── 通常編成/
│   │   ├── 夜総合
│   │   ├── 夜2のみ
│   │   ├── 夜1のみ/
│   │   │   ├── ラッシュ
│   │   │   ├── キンシャケ探し
│   │   │   ├── グリル発進
│   │   │   ├── 霧
│   │   │   ├── ハコビヤ襲来
│   │   │   └── ドスコイ大量発生
│   │   └── 昼のみ/
│   │       ├── 通常3
│   │       ├── 通常2
│   │       └── 通常1
│   ├── 単緑編成
│   ├── 全緑編成
│   └── 黄金編成
├── 難破船ドン・ブラコ
├── 海上集落シャケト場
├── トキシラズいぶし工房
└── 朽ちた箱舟 ポラリス
```

### カテゴリ区分の問題点

パッと見た感じ思ったのは、カテゴリ区分がわかりにくいことと意味のあるカテゴリなのかどうか判断できないというところである。

#### 総合について

例えば夜総合は次のどちらの意味を指すのかがわからない。

- 夜の回数制限なし
- 夜イベント回数 3 回

ただし、文脈を普通に捉えるのであれば「夜の回数制限なし」と考えるべきだとは思う。

夜イベント回数 3 回のカテゴリがないのは、夜イベントが昼イベントよりも稼げやすいのでわざわざつくる意味がないと判断したのかも知れないが、ここで夜総合は下位の区分「夜 2 のみ」と「夜 1 のみ」を包含している関係になるのがわかりにくさを生んでいるような気がする。

勘違いされやすいが実質的に夜総合というカテゴリはなく「夜回数 3 回(カテゴリには載っていない)」「夜回数 2 回」「夜回数 1 回」のうち最高記録を抜き出しているだけである。

|        | 現行 | 実際の挙動 |
| :----: | :--: | :--------: |
| 夜総合 | 5000 |    5000    |
|  夜 3  |  -   |    5000    |
|  夜 2  | 4000 |    4000    |
|  夜 1  | 3000 |    3000    |

もちろん、夜が 3 回きたからといって確実に夜 2 回の記錄を超えられるわけではないので、以下のようになるような場合もある。

|        | 現行 | 実際の挙動 |
| :----: | :--: | :--------: |
| 夜総合 | 5000 |    5000    |
|  夜 3  |  -   |    4000    |
|  夜 2  | 5000 |    5000    |
|  夜 1  | 3000 |    3000    |

::: warning 注意点

「夜回数 3 回」のカテゴリをつくれというのかといえばそうではないことには注意していただきたい。

:::

第一、夜 3 回のカテゴリなんてつくったら、ほとんど同じイベント組み合わせで埋め尽くされるに違いない。

#### クリアしたかしてないか

これは完全に別記錄扱いになっているが、夜総合で「夜イベント回数 3 回」をつくらなかったのであればこちらも「失敗を認める」「認めない」の包含関係にするのが良いかと思う。

そうでないと「クリアしたら記錄超えられなさそうだから失敗しておくか」みたいなプレイングが可能になってしまう。

::: tip 記錄

とはいえ、多くの赤イクラ記錄は失敗することで達成されているので、このような状況は生まれにくいとは考えられる。

が、記錄が埋まっていない初期の段階ではこのように失敗するかクリアするかを選択して記錄に載せることができてしまう気がする、やる人がいるかどうかはわからない。

:::

というわけで、現行と改善案の違いは以下の通り。

|        | 現行 | 改善案 |
| :----: | :--: | :----: |
|  失敗  | 6000 |  6300  |
| クリア | 6300 |  6300  |

現行では失敗とクリアが分けられているが、クリアした記錄の方が高い場合は失敗よりもより優先されるべきという考え方である。

#### 昼カテゴリの細分化

現行では通常潮位の回数で分けられているが、通常潮位だけ分けられている理由がよくわからない。

無限にややこしくなるという点を除くのであれば、満潮や干潮も回数で分けるべきではないだろうか。

#### 「込み」というカテゴリの難しさ

「込み」となるとその要素を必ず含んでいることが求められる。

例えば、何らかの超絶的な運が働いて昼のみで赤イクラ 7000 稼ぐようなことがあったとしても夜 1 カテゴリの記錄には絶対に載らないのである（何故なら夜 1 カテゴリは夜を 1 回だけ含むことが求められるため）

これは記錄を細分化するのには役立つかもしれないが、細分化しすぎると管理が難しくなるという問題がある。

後述する理由から、余計にそれが難しくなっている。

#### 単にイベントだけで集計すべき

金イクラ記錄にはラッシュ記錄があるのに、赤イクラ記錄にはラッシュ記錄がなく「ラッシュを含む夜 1 回記錄」としてしか存在しない。何故か？

それは個別の WAVE の赤イクラ数はイカリング 2 で確認するすべがなく、API を直接叩いてリザルトの JSON を取得しないとわからないためである。

これを実現にするには、

- Salmonia
- splatnet2statink

等の外部アプリケーションが必ず必要になってきます。これらのアプリケーションは誰しもが導入しているわけではないので、金イクラと同じような単一 WAVE での記録実装は見送られたのでしょう。

### 最大の問題点

何故このページが開設されたのか、の理由は[公式ページ](https://lemon0617tea.github.io/Power_Egg_Record/html/about.html)でも述べられている。

> まず、新カテゴリーの追加理由です。
> 以前まで夜あり昼ありの総合と個人のみでした。
> この問題点は、あまりも運要素が強すぎるため、記録を出すための wave がほぼ確定している事。
> その要素を減らすために、救済処置を考え個別のカテゴリー記録を増やすことで記録に載りやすく、赤乱獲対して身近に感じてもらえればと思いました。

運要素が強すぎるのは間違いないし、記錄を出すための WAVE がほぼ確定していることも間違いない。

なので記錄を細分化するのには概ね同意である。

が、問題点は細分化しすぎたというところにあるだろう。先程も述べたように「WAVE 区分」だけで 11 通りあり、「個人/総合」に加えて「編成区分」や「クリアしたかどうか」もあるせいでこれだけで 176 通りも存在することになる。

となると赤乱獲をしたとしてそれが記錄を超えているのか超えていないのかをチェックすることすら膨大な手間がかかるということになる。

実際にプレイするときには編成はわかっているとはいえ、それでも 44 通りチェックしなければならない。

評価 400 から 999 までおよそ三時間で 30 戦ほど赤乱獲で遊んだとして、記錄の殆どが埋まっておらず申請すれば大体最高記録として受理されるとしてその 30 戦がどの区分に該当し記錄を超えているかチェックする手間をかけるユーザがどのくらいいるだろうか。

記錄をまとめる側も受理されたデータが本当に正しいかどうか、細々とチェックしなければならない。これは大変な作業になる。

おそらく、サーモンランを遊んだ時間よりも多くの時間が記錄の申請から承認までのプロセスにかかるだろう。

## 理想とする Power Egg Record

此処から先はもしも自分が赤乱獲の記錄をまとめるとしたらどのようにするかを考えるものである。

そういうふうに運営しろなどという意図は一切存在しないことをご留意いただきたい。

### 記錄の細分化

記錄の細分化には大いに賛成である。そして、自分なら以下のようにカテゴリを分ける。

```

シェケナダム/
├── 通常編成/
│   ├── 総合記錄/
│   │   ├── 昼のみ/
│   │   │   ├── クリア
│   │   │   └── 失敗を含む
│   │   └── 夜あり/
│   │       ├── クリア
│   │       └── 失敗を含む
│   └── WAVE記錄/
│       ├── 干潮/
│       │   ├── イベントなし
│       │   ├── 霧
│       │   ├── ハコビヤ襲来
│       │   └── ドスコイ大量発生
│       ├── 通常/
│       │   ├── イベントなし
│       │   ├── ラッシュ
│       │   ├── キンシャケ探し
│       │   ├── グリル発進
│       │   ├── 霧
│       │   └── ハコビヤ襲来
│       └── 満潮/
│           ├── イベントなし
│           ├── ラッシュ
│           ├── キンシャケ探し
│           ├── グリル発進
│           ├── 霧
│           └── ハコビヤ襲来
├── 単緑編成
├── 全緑編成
└── 黄金編成
```

#### 個人記錄を削除

個人記錄を出すためにはドスコイ大量発生で大砲に乗り続けるより効率の良い動きは存在しない。

結局、このカテゴリで記錄を出すためにはドスコイ大量発生を待ち続けるより他はなく面白みに欠ける。

#### 夜回数制限を削除

カテゴリが細かくなりすぎるため削除。

#### 通常潮位回数を削除

カテゴリが細かくなりすぎるため削除。

#### WAVE 記錄を追加

本来あるべき区分はこうであると考えるため。

また、WAVE 記錄はクリアしたものしか認めない。

#### 総合記錄

これも結局ドスコイ大量発生やラッシュなどの一部の赤イクラ特化 WAVE を待つだけなので削除しても良かったが、慣習的に残しておくことにする。

また、これも慣習的に失敗したものも記錄として認める。

### この区分のメリット

#### 目的がわかりやすい

例えば従来の区分だと WAVE2 まででドスコイ大量発生・通常イベントなしがきた場合「夜 1 記錄」ならだせそうであるが WAVE3 で「ハコビヤ襲来」がきたらその瞬間に夜 2 記錄の達成はほとんど不可能になる（ハコビヤ襲来は稼げないため）

つまり、五分ほどかけてやってきたことが全て意味がなくなるというわけである。これは金乱獲におけるハコビヤ襲来とも似ているが、ステージ・潮位によってはハコビヤは金イクラであればそこそこ稼げる。赤イクラは無理である。

改善案ではハコビヤ襲来での記錄を目指す、という別の目的が生まれるため常に目標を持って遊ぶことができる。

#### モチベーション

金イクラ乱獲では「このステージのラッシュの記錄なら超えられそうだ」というモチベーションがあると思う。WAVE 記錄がない現行案ではそれがない。

#### 技術・知識の向上

また、総合的な記錄を伸ばそうとしたら個別の WAVE を最適化する方法を研究・学ぶ必要がある。

「ラッシュで〜してみたら赤イクラの現行記錄を超えられたので、この戦法はひょっとしたら優秀かもしれない」というような発展性が、現行案ではそれがない。

### この区分のデメリット

#### 外部ツールの導入が必須

これが最も大きな障害になるだろう。Salmonia は現状 iOS しかサポートしていない。

Android 版はビルド環境を失ってサポートを停止したが Windows 版と GAS 版があるので Android ユーザでも対応ができないわけではない。

ちょいと手間はかかるがブラウザで動作するバージョンも外部 API を使えば不可能ではない。

しかし、これが深刻なデメリットかといえばそうではない。Salmonia を使って Salmon Stats に登録することには大きなメリットがある。

それは記錄をプログラムで集計可能になるという点である。

### プログラムによる集計

プログラムによる集計には以下のメリットがある。

- 申告漏れが存在しない
- 確認・申告の手間が完全に 0 になる
- 記錄に正当性が担保される
- 記錄の管理・ウェブページの更新が自動で行える

つまり、プログラムで動作させれば管理人は一切ウェブページを更新する必要がない。

自分なら間違いなくこうする。

自分が現行の Salmon Run Records や Power Egg Record に全く興味がないのは記錄の管理を手作業でやっているという煩わしさがその理由の一つにある。

申請するのもそれを受理させて管理させるのも大変そうだから無駄なことをさせたくないというわけである。

で、もっと書きたいし最初に書いたことを色々直したいのだがお寿司を食べに行く時間になってしまった。

記事は以上。
